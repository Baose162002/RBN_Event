@page
@model RBN_FE.Pages.EventPages.DeleteEventModel
@{
    ViewData["Title"] = "Xóa Sự Kiện";
}

<h2 class="text-2xl font-semibold mb-4">Xóa Sự Kiện</h2>

@if (Model.Event != null)
{
    <div class="bg-white border rounded-lg p-6 mx-auto max-w-2xl">
        <p class="text-gray-700 mb-4">
            Bạn có chắc chắn muốn xóa sự kiện <strong class="font-semibold">@Model.Event.Title</strong>?
        </p>

        <!-- Sử dụng flexbox để chia thông tin sự kiện thành 2 cột -->
        <div class="flex flex-wrap -mx-2 mb-4">
            <div class="w-full sm:w-1/2 px-2 mb-4">
                <strong class="block mb-1">Tên sự kiện:</strong>
                <span>@Model.Event.Name</span>
            </div>
            <div class="w-full sm:w-1/2 px-2 mb-4">
                <strong class="block mb-1">Giá:</strong>
                <span>@Model.Event.Price.ToString("N0") VND</span>
            </div>
            <div class="w-full sm:w-1/2 px-2 mb-4">
                <strong class="block mb-1">Trạng thái:</strong>
                <span>@((Model.Event.Status == 1) ? "Hoạt động" : "Không hoạt động")</span>
            </div>
            <div class="w-full sm:w-1/2 px-2 mb-4">
                <strong class="block mb-1">Ngày tạo:</strong>
                <span>@Model.Event.CreateAt</span>
            </div>
            <div class="w-full px-2 mb-4">
                <strong class="block mb-1">Mô tả:</strong>
                <span>@Model.Event.Description</span>
            </div>
        </div>

        <!-- Hiển thị hình ảnh của sự kiện -->
        <div class="mb-4">
            <strong class="block mb-2">Hình ảnh:</strong>
            <div class="relative w-full sm:w-80 h-80 overflow-hidden rounded-lg">
                @if (!string.IsNullOrEmpty(Model.Event.EventImg?.ImageUrl))
                {
                    <img src="@Model.Event.EventImg.ImageUrl" alt="@Model.Event.Title" class="object-cover w-full h-full" />
                }
                else
                {
                    <img src="https://via.placeholder.com/400" alt="No Image Available" class="object-cover w-full h-full" />
                }
            </div>
        </div>

        <!-- Form xác nhận xóa sự kiện -->
        <div class="flex justify-between">
            <form method="post" onsubmit="return confirmDelete();">
                <input type="hidden" name="id" value="@Model.EventId" />
                <button type="submit" class="bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-600">Xóa</button>
            </form>
            <a asp-page="/EventPages/EventIndex" class="bg-gray-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-600">Hủy</a>
        </div>
    </div>
}
else
{
    <div class="alert alert-warning">
        Không tìm thấy sự kiện nào để xóa.
    </div>
}

@section Scripts {
    <script>
        function confirmDelete() {
            return confirm("Bạn có chắc chắn muốn xóa sự kiện này?");
        }
    </script>
}
